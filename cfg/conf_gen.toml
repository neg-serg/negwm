general = [
    "workspace_layout tabbed",
    "default_orientation auto",
    "floating_modifier Mod4",
    "set $i3 ${XDG_CONFIG_HOME}/negi3wm",
    "set $exit mode \"default\"",

    "font pango: Iosevka Heavy 18",
    "show_marks yes",
    "hide_edge_borders both",
    "title_align left",

    "focus_follows_mouse no",
    "force_display_urgency_hint 500 ms",
    "focus_on_window_activation smart",
    "focus_wrapping yes",
    "mouse_warping none",

    #item,                    border,     background,  text,    indicator,  child_border
    "client.focused           #000011dd   #000000ee    #ddddee  #112211     #0C0C0D",
    "client.focused_inactive  #000000dd   #000000ee    #005fff  #000000     #020204",
    "client.unfocused         #000000ee   #000000      #315c70  #000000     #020204",
    "client.urgent            #000000ee   #2E2457      #4C407C  #32275E     #32275E",
    "client.placeholder       #000000ee   #000000      #ffffff  #000000     #0c0c0c",
    "client.background        #000000ee",

    "exec_always --no-startup-id pkill -x polybar; [ $(pgrep -x polybar|wc -l) -le 1 ] && polybar -c ${XDG_CONFIG_HOME}/polybar/main main",
    "exec_always --no-startup-id ${XDG_CONFIG_HOME}/negi3wm/bin/gnome-conf",
    "exec_always --no-startup-id dash -c ${XDG_CONFIG_HOME}/negi3wm/bin/negi3wm_run",
    "exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1",
    '''exec hash dbus-update-activation-environment 2>/dev/null && \
    dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK''',
    "exec --no-startup-id /usr/sbin/gpaste-client daemon",
    "exec --no-startup-id /usr/bin/xiccd",
    "exec --no-startup-id /usr/lib/gsd-xsettings",
]

ws_list = [
    " α:term", " β:web", " γ:doc", " δ:dev",
    " ε:gfx", " ζ:draw", " η:sys", " ι:steam",
    " λ:vm", " μ:wine", " ξ:pic", "@ ρ:obs"
]

plain_rules = [
    '''[class=".*"] title_format "<span foreground='#395573'> >_ </span> %title", border pixel 5''',
    '[instance="^(gpartedbin|recoll)$"] move workspace $sys, floating enable, focus',
    '[class="^(Gcolor3|rdesktop|openssh-askpass)$"] floating enable',
    '[class="^(inkscape|gimp)$"] move workspace $draw',
    '[class="^(steam|Steam)$"] floating enable',
    '[class="steam_app_.*"] floating enable',
]

bind_modes = [["default", ''], ["resize", 'Mod4+r'], ["spec", 'Mod1+e'], ["wm", 'Mod4+minus']]

[exec]
    [exec.plain]
    'Mod4+4' = '~/bin/scripts/screenshot'
    'Mod4+Shift+4' = 'flameshot gui'
    'Mod4+Control+4' = '~/bin/scripts/screenshot -r'
    [exec.no_startup_id]
    'Mod1+grave' = 'rofi -display-drun "❯>" -drun-display-format "{name}" -modi drun -show drun -show-icons -disable-history -theme run'
    'Mod4+8' = 'playerctl volume 0.0 || amixer -q set Master 0 mute'
    'Mod4+Shift+8' = 'playerctl volume 1.0 || amixer -q set Master 65536 unmute'
    'Mod4+c' = '~/bin/clip'
    'Mod4+p' = '~/bin/scripts/rofi-tmux-urls'
    'Mod4+Shift+6' = '~/bin/wl'
    'Mod4+Shift+i' = '~/bin/scripts/rofi-nm'
    'Mod4+Shift+l' = '~/bin/scripts/rofi-lutris'
    'Mod4+Shift+m' = '~/bin/scripts/rofi-audio'
    'Mod4+Shift+y' = '~/bin/clip youtube-dw-list'
    'XF86Sleep' = 'sudo systemctl suspend'
    'Mod4+apostrophe' = '${XDG_CONFIG_HOME}/negi3wm/bin/i3-reload'
    'Mod4+Shift+apostrophe' = '${XDG_CONFIG_HOME}/negi3wm/bin/i3-restart'
    'Mod4+space' = 'dunstctl close-all'
    'Mod4+Shift+9' = 'dunstctl history-pop'

[media]
    modkey = 'Mod4'
    [media.keymap]
    previous = ['XF86AudioPrev', 'comma']
    next = ['XF86AudioNext', 'period']
    play = ['XF86AudioPlay']
    stop = ['XF86AudioStop']
    play-pause = ['Shift+2']

[focus]
    modkey = 'Mod4'
    [focus.keymap]
    left = ['h']
    down = ['j']
    up = ['k']
    right = ['l']

[misc]
    modkey = 'Mod4'
    [misc.keymap]
    'fullscreen toggle' = ['q']
    kill = ['Control+q']

[scratchpad]
    modkey = 'Mod4'
    [scratchpad.keymap]
    geom_restore = ['Control+space']
    geom_dump = ['Control+s']
    dialog = ['Control+a']
    next = ['3']
    hide_current = ['s']

[menu]
    [menu.keymap]
    goto_win = ['Mod1+g']
    ws = ['Mod4+g']
    attach = ['Mod4+Shift+a']
    movews = ['Mod4+Control+g']
    cmd_menu = ['Mod4+Control+grave']
    autoprop = ['Mod4+Shift+s']

[remember_focused]
    [remember_focused.keymap]
    switch = ['Mod1+Tab', 'Mod4+slash']
    focus_next_visible = ['Mod4+grave']
    focus_prev_visible = ['Mod4+Shift+grave']

[vol]
    [vol.keymap]
    d = ['XF86AudioLowerVolume']
    u = ['XF86AudioRaiseVolume']

[resize_plus]
    param = '4'
    [resize_plus.keymap]
    left = ['h', 'a']
    bottom = ['j', 's']
    top = ['k', 'w']
    right = ['l', 'd']

[resize_minus]
    modkey = 'Shift'
    param = '-4'
    [resize_minus.keymap]
    left = ['h', 'a']
    bottom = ['j', 's']
    top = ['k', 'w']
    right = ['l', 'd']

[split]
    [split.keymap]
    horizontal = ['h', 'l']
    vertical = ['j', 'k']

[layout_wm]
    [layout_wm.keymap]
    default = ['grave']
    tabbed = ['t']
    splith = ['minus']
    splitv = ['backslash']
    'toggle all' = ['Control+a', 'Control+3']
    'toggle split' = ['Control+s']
    toggle = ['Control+t']

[actions_wm]
    [actions_wm.keymap]
    maximize = ['m']
    maxhor = ['x']
    maxvert = ['y']
    revert_maximize = ['Shift+m', 'Shift+x', 'Shift+y']
    grow = ['Shift+plus']
    shrink = ['Shift+minus']
    none = ['c']
    resize = ['Shift+c']

[misc_spec]
    [misc_spec.keymap]
    '[urgent=latest] focus' = ['e']
    'floating toggle' = ['Shift+d']

[menu_spec]
    [menu_spec.keymap]
    pulse_output = ['o']
    pulse_input = ['i']
    gtk_theme = ['Shift+t']
    icon_theme = ['Shift+i']
    xprop = ['m']

[move]
    [move.keymap]
    top = ['w']
    left = ['a']
    bottom = ['s']
    right = ['d']

[move_acts]
    param = 'x2'
    [move_acts.keymap]
    hup = ['Shift+a']
    vleft = ['Shift+s']
    hdown = ['Shift+w']
    vright = ['Shift+d']


[quad]
    [quad.keymap]
    '1' = '1'
    '2' = '2'
    '3' = '3'
    '4' = '4'
